import cv2
import numpy as np
import matplotlib.pyplot as plt
import os

# Function to load images from a directory
def load_images_from_folder(folder):
    images = []
    for filename in os.listdir(folder):
        img = cv2.imread(os.path.join(folder, filename))
        if img is not None:
            images.append(img)
    return images

# Function to plot histograms of images
def plot_histograms(images):
    for i, img in enumerate(images):
        # Convert to grayscale
        gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
        
        # Compute histogram
        hist = cv2.calcHist([gray_img], [0], None, [256], [0, 256])
        
        # Plot histogram
        plt.plot(hist, label=f'Image {i+1}')
    
    plt.title('Grayscale Histogram')
    plt.xlabel('Pixel Value')
    plt.ylabel('Frequency')
    plt.legend()
    plt.show()

# Load images
folder_path = 'path_to_your_image_folder'  # Replace with the path to your image folder
images = load_images_from_folder(folder_path)

# Plot histograms
plot_histograms(images)
